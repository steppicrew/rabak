
=================
DEVELOPER'S NOTES
=================

API
---

Good structure:
http://search.cpan.org/~jrockway/Chroniton-0.03/

readConfig
writeConfig

backup

restore

archive

queryBackups
    by Time
    by Name
    by Files

WUI:
- List of Sets
- Mount target
- last backup statuseees
- single file history
- conf edit how?
- restore files
- clean backups?

cf= readconf()
session
session->setconf(cf)
session->backup

QUERIES:
--------


-- jobs with errors:

    count job:
        session:
            source-session:
                error-count > 0

    job:
        session:
            limit 1
            order-desc time.start
            source-session:
                error-count > 0
        count session:
            source-session:
                error-count > 0

-- last jobs:

    job:
        session:
            limit 1
            order-desc time.start
            source-session:

-- messages:

    message:
        session-id = "session-uuid"
        level = 2
        range 0, 100
        order-by ((time? message id?))

-- mediums:

    medium:
        source-session:
            via session
            limit 1
            order-desc time.end
        job:
            distinct        -- id?

-- search file

    file:
        regex = 'steppi.*idee'
        source-session:
            url = file:///lisa/
            time.start = 2009-02-01
            order-desc time.start
        distinct inode
        order-desc source-session.time.start

--

----


    job {
        important-session {
            table session
            limit 1
            order-desc time.start
            source-session {
                error-count > 0
                admin = 'steppi'
            }
        }
        session {
            source-session {
                error-count > 0
            }
        }
    }



